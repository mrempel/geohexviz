
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Welcome to GeoHexViz’s documentation! &#8212; GeoHexViz 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="GeoHexViz - Plot Builder module" href="builder.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="welcome-to-geohexviz-s-documentation">
<h1>Welcome to GeoHexViz’s documentation!<a class="headerlink" href="#welcome-to-geohexviz-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="builder.html">     Plot Builder Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">     Errors Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">     Templates Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple.html">     GeoHexSimple Package</a></li>
</ul>
</div>
</section>
<section id="further-information">
<h1>Further Information<a class="headerlink" href="#further-information" title="Permalink to this headline">¶</a></h1>
<p>GeoHexViz is a package for the simple and repeatable visualization of
hexagon-ally binned data sets.
The package’s main feature is a PlotBuilder class which utilizes tools
to hexagon-ally bin your dataset and then display it.</p>
<section id="command-line-json-usage">
<h2>Command Line / JSON Usage<a class="headerlink" href="#command-line-json-usage" title="Permalink to this headline">¶</a></h2>
<p>The GeoHexViz distribution includes a module that can allow the reading
of JSON files for quick and easy plots.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;main_dataset&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;data&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;sample csv file&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;hex_resolution&quot;</span><span class="p">:</span> <span class="mi">4</span>
  <span class="p">},</span>
  <span class="nt">&quot;output_figure&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;filepath&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;sample filepath&gt;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">600</span><span class="p">,</span>
    <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">400</span>
  <span class="p">},</span>
  <span class="nt">&quot;display_figure&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>running the JSON script will allow you to input a JSON file via command
line.</p>
<p>You may also use the functions that allow the executing of a JSON file
from a python module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scripts.geohexsimple.simple</span> <span class="kn">import</span> <span class="n">run_json</span>

<span class="n">run_json</span><span class="p">(</span><span class="s2">&quot;&lt;filepath here&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="python-module-usage-plotbuilder">
<h2>Python Module Usage (PlotBuilder)<a class="headerlink" href="#python-module-usage-plotbuilder" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pandas</span> <span class="kn">import</span> <span class="n">DataFrame</span>
<span class="kn">from</span> <span class="nn">geohexviz.builder</span> <span class="kn">import</span> <span class="n">PlotBuilder</span>

<span class="c1"># Creating an example dataset</span>
<span class="n">inputdf</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
    <span class="n">latitude</span><span class="o">=</span><span class="p">[</span><span class="mf">17.57</span><span class="p">,</span> <span class="mf">17.57</span><span class="p">,</span> <span class="mf">17.57</span><span class="p">,</span> <span class="mf">19.98</span><span class="p">,</span> <span class="mf">19.98</span><span class="p">,</span> <span class="mf">46.75</span><span class="p">],</span>
    <span class="n">longitude</span><span class="o">=</span><span class="p">[</span><span class="mf">10.11</span><span class="p">,</span> <span class="mf">10.11</span><span class="p">,</span> <span class="mf">10.12</span><span class="p">,</span> <span class="mf">50.55</span><span class="p">,</span> <span class="mf">50.55</span><span class="p">,</span> <span class="mf">31.17</span><span class="p">],</span>
    <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mi">120</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">700</span><span class="p">]</span>
<span class="p">))</span>

<span class="c1"># Instantiating builder</span>
<span class="n">builder</span> <span class="o">=</span> <span class="n">PlotBuilder</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">set_hexbin</span><span class="p">(</span><span class="n">inputdf</span><span class="p">,</span> <span class="n">hexbin_info</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">binning_fn</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">binning_field</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">))</span>

<span class="n">builder</span><span class="o">.</span><span class="n">finalize</span><span class="p">(</span><span class="n">raise_errors</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">clear_figure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># A mapbox map</span>
<span class="n">builder</span><span class="o">.</span><span class="n">set_mapbox</span><span class="p">(</span><span class="s1">&#39;&lt;ACCESS TOKEN&gt;&#39;</span><span class="p">)</span>
<span class="n">builder</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
<span class="n">builder</span><span class="o">.</span><span class="n">display</span><span class="p">(</span><span class="n">clear_figure</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<section id="behind-the-scenes">
<h3>Behind the Scenes<a class="headerlink" href="#behind-the-scenes" title="Permalink to this headline">¶</a></h3>
<p>When the main dataset is passed into the builder, the data is processed
in the following steps:</p>
<p>Data:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>index</p></th>
<th class="head"><p>lats</p></th>
<th class="head"><p>lons</p></th>
<th class="head"><p>value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>17.57</p></td>
<td><p>10.11</p></td>
<td><p>120</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>17.57</p></td>
<td><p>10.11</p></td>
<td><p>120</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>17.57</p></td>
<td><p>10.12</p></td>
<td><p>120</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>19.98</p></td>
<td><p>50.55</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>19.98</p></td>
<td><p>50.55</p></td>
<td><p>400</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>46.75</p></td>
<td><p>31.17</p></td>
<td><p>700</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li><p>Coordinate columns are converted into geometry (if applicable)</p></li>
</ol>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>index</p></th>
<th class="head"><p>value</p></th>
<th class="head"><p>geometry</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.11)</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.11)</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.12)</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>400</p></td>
<td><p>POINT(19.98, 50.55)</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>400</p></td>
<td><p>POINT(19.98, 50.55)</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>700</p></td>
<td><p>POINT(46.75, 31.17)</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="2">
<li><p>Hex cells are then placed over the data</p></li>
</ol>
<table class="docutils align-default">
<colgroup>
<col style="width: 38%" />
<col style="width: 16%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>hex</p></th>
<th class="head"><p>value</p></th>
<th class="head"><p>geometry</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>83595afffffffff</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.11)</p></td>
</tr>
<tr class="row-odd"><td><p>83595afffffffff</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.11)</p></td>
</tr>
<tr class="row-even"><td><p>83595afffffffff</p></td>
<td><p>120</p></td>
<td><p>POINT(17.57, 10.11)</p></td>
</tr>
<tr class="row-odd"><td><p>835262fffffffff</p></td>
<td><p>400</p></td>
<td><p>POINT(19.98, 50.55)</p></td>
</tr>
<tr class="row-even"><td><p>835262fffffffff</p></td>
<td><p>400</p></td>
<td><p>POINT(19.98, 50.55)</p></td>
</tr>
<tr class="row-odd"><td><p>831e5dfffffffff</p></td>
<td><p>700</p></td>
<td><p>POINT(46.75, 31.17)</p></td>
</tr>
</tbody>
</table>
<p>(hex resolution = 3)</p>
<ol class="arabic simple" start="3">
<li><p>The data is grouped together by hex, and hex geometry is added</p></li>
</ol>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 16%" />
<col style="width: 14%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>hex</p></th>
<th class="head"><p>items</p></th>
<th class="head"><p>value_field</p></th>
<th class="head"><p>geometry</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>83595afffffffff</p></td>
<td><p>(120,120,120)</p></td>
<td><p>360</p></td>
<td><p>POLYGON ((30.57051 46.80615, 30.47843 46.19931…</p></td>
</tr>
<tr class="row-odd"><td><p>835262fffffffff</p></td>
<td><p>(400, 400)</p></td>
<td><p>800</p></td>
<td><p>POLYGON ((49.90903 20.19437, 49.74835 19.60088…</p></td>
</tr>
<tr class="row-even"><td><p>831e5dfffffffff</p></td>
<td><ol class="arabic simple" start="700">
<li></li>
</ol>
</td>
<td><p>700</p></td>
<td><p>POLYGON ((9.44614 17.39197, 9.49704 16.75205, …</p></td>
</tr>
</tbody>
</table>
<p>(binning function = sum of grouped values)</p>
<p>When the data is eventually plotted, a GeoJSON format of the data is
passed alongside plotly properties are passed to the Plotly graphing
library.</p>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>As of right now the GeoHexViz package can be cloned on GitHub, and
install by using the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file.</p>
<p>In the near future the package will be available via pip:
Use the package manager <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a> to install GeoHexViz.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install geohexviz
</pre></div>
</div>
</section>
<section id="further-documentation">
<h2>Further Documentation<a class="headerlink" href="#further-documentation" title="Permalink to this headline">¶</a></h2>
<p>There is further documentation contained within the Reference Document
published alongside this software package, which is available {HERE}.
The official API documentation is also available {HERE}.</p>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h2>
<p>Thank you to Nicholi Shiell for his input in testing, and providing
advice for the development of this package.</p>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">¶</a></h2>
<p>This package uses GeoJSON format to plot data sets. With GeoJSON comes
difficulties when geometries cross the 180th meridian . The issue
appears to cause a color that bleeds through the entire plot and leaves
a hexagon empty. In the final plot, this issue may or may not appear as
it only occurs at certain angles of rotation. In this package a simple
solution to the problem is implemented, in the future it would be best
to provide a more robust solution. The solution that is used works
generally, however, when hexagons containing either the north or south
pole are present, the solution to the 180th meridian issue persists.
This pole issue can be seen below.</p>
<p>There also exists some issues with the generation of discrete color
scales under rare circumstances. These circumstances include generating
discrete color scales with not enough hues to fill the scale, and
generating diverging discrete colorscales with the center hue in a weird
position. These issues have been noted and will be fixed in the near
future.</p>
<p>There exists issues with the positioning and height of the color bar
with respect to the plot area of the figure. Although the user is
capable of altering the dimensions and positioning of the color bar,
this should be done automatically as it is a common feature of
publication quality choropleth maps.</p>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h2>
<p>For major changes, please open an issue first to discuss what you would
like to change.</p>
</section>
<section id="contact">
<h2>Contact<a class="headerlink" href="#contact" title="Permalink to this headline">¶</a></h2>
<p>For any questions, feedback, bug reports, feature requests, etc please
first present your thoughts via GitHub issues. For further assistance
please contact <a class="reference external" href="mailto:tonyabouzeidan&#37;&#52;&#48;cmail&#46;carleton&#46;ca">tonyabouzeidan<span>&#64;</span>cmail<span>&#46;</span>carleton<span>&#46;</span>ca</a></p>
</section>
<section id="copyright-and-license">
<h2>Copyright and License<a class="headerlink" href="#copyright-and-license" title="Permalink to this headline">¶</a></h2>
<p>Copyright (c) Her Majesty the Queen in Right of Canada, as represented
by the Minister of National Defence, 2021.</p>
</section>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">GeoHexViz</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="builder.html">     Plot Builder Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">     Errors Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">     Templates Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="simple.html">     GeoHexSimple Package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="builder.html" title="next chapter">GeoHexViz - Plot Builder module</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Tony Abou Zeidan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>